<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>АУК</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="description" content="Автоматизированный учебный курс">
    <meta name="author" content="khisamov.studio">
    <link th:href="@{/css/normalize.css}" rel="stylesheet">
    <link th:href="@{/css/main.css}" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if !IE 7]>
    <style type="text/css">
        #wrap {display:table;height:100%}
    </style>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <header class="header">
        <div class="header__body responsive-wrapper">
            <div class="header__name"><a href="/">Автоматизированный учебный курс</a></div>
            <nav class="header__nav">
                <a href="/profile">Личный кабинет</a>
            </nav>
        </div>
    </header>
    <main class="main">
        <div class="main__body responsive-wrapper">
            <div class="widget">
                <ul>
                    <th:block th:each="question, state: ${questions}">
                        <li><a th:utext="Вопрос + ' ' + ${state.count}" th:href="@{/test/{index}(index=${state.index})}" th:if="${state.index} == ${id}" class="selected">Вопросы</a></li>
                        <li><a th:utext="Вопрос + ' ' + ${state.count}" th:href="@{/test/{index}(index=${state.index})}" th:if="${state.index} != ${id}">Вопросы</a></li>
                    </th:block>
                </ul>
            </div>
            <div class="widget">
                <form role="form" th:action="@{/test}" th:method="POST" th:object="${studentsQuestionsAnswers}">
                    <p th:utext="${question.question_text}">Вопрос</p>
                    <ul>
                        <li th:each="answer, state: ${answers}">
                            <th:block th:if="1 + ${id} == ${answer.question_id}">
                                <input type="radio" name="answer" th:field="*{answerId}" th:value="${answer.id}"/>
                                <label th:for="${answer.id}" th:text="${answer.answer_text}"></label>
                            </th:block>
                        </li>
                    </ul>
                    <input type="hidden" name="question" th:field="*{questionId}" th:value="${id}"/>
                    <th:block th:if="${id} == 0">
                        <button class="main__button disabled" disabled>Предыдущий вопрос</button>
                    </th:block>
                    <th:block th:if="${id} != 0">
                        <button class="main__button">Предыдущий вопрос</button>
                    </th:block>
                    <th:block th:if="1 + ${id} != ${#arrays.length(questions)}">
                        <button class="main__button" type="submit" name="submit">Следующий вопрос</button>
                    </th:block>
                    <th:block th:if="1 + ${id} == ${#arrays.length(questions)}">
                        <button class="main__button" type="submit" name="submit">Закончить тест</button>
                    </th:block>
                </form>
            </div>
        </div>
    </main>
</div>
</body>
</html>